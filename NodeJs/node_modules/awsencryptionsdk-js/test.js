const AWSEncryptionHelper = require("./index");

let privateKey = `-----BEGIN RSA PRIVATE KEY-----
MIIEogIBAAKCAQEAtu0N2MM9KGXpb/ovCCHfbGEt3bfaXfnT61zqHv6o02A21dqS
QbR4VHZXvKSpy3JYjKq9hP+8fHl0ZgGw8r0C/yB+zMF0g9WXYgPmO369HH+3FJWY
zAq91VM1cPPCsiK7U2LHsaNgUF/808dXXJkUo5vOnWq2OMUJt2WMwRW4InJgIgqB
G9xxygfeZzEan9HYphZuVZeQbmQ8x79DyyP3hqbfWio8h9U4dY3ttyzUzfblhnzT
aAGIzWENVotwdpNc9cDezkNmntD/emK7mAYyvMzYryXTqlbU85aWVnjO/EMWXCoc
aOkWV+S7gZrasiaS2ep8Pc75FFULMThcmt8SWQIDAQABAoIBAG0oYI7tUt18kySj
ItWzgOPnybr5L3HM100oEP2V8aDRVWegGo7i5rtgM1L63+frwDOQ368x/IQ65d7J
O5JegB9GgOQmvSS+nKt8sDLommkbPWEnNBrufgGCue1BSPmMCETmOUwjtiHAZdrq
pZM4Njy7iTwepcaSrg2mp6vBDjRfEceUHIvYIfSH7yd23cWhfQj9Rp/MuOSqYWsI
kFtZiKF7vdKetuWrDxsBfRzKRionak267iiwnp6qjRUYGa61YnCBpeCC2+7SKIQW
ZP0xY0km79EX29XlKbvLMP9TbJWgh1rt3bgfUsTBiDVsEL3p7yRz0lgrNGFgkyzm
rv5CWdECgYEA4arZlOQxRqiq8cAVZFiiXqmxiP26aZJK0T2ZEahHH9jGsVln47EB
k9PVlP7ubx8odwG20mKPQN0di4OQvZEnlWUt/zQvqccG5KD7t6K59XF7EgoM0rUo
IEzBzDopfmtCpQ6S4HZr5McK8TRYgHmhqNC2Ua89Cdo+uDwlvbyc+P8CgYEAz4N8
M1wB52oW6SXnVgyJ0dfGHoWV0oMoR2WH+HQgB8/ICu1hKywELtfP6UrTQm++xU+P
R8XNJMc50hs2gscolYqGUNVGKjpvzQrK2P48tZEBpZnDHU2tcCytYKbLMPtTx45w
tqHIjuJ9fFU+VQX+MO0kM7H15qk0lspGrMQDXKcCgYBa7OH6Ue9gzvkBqylzYxsZ
FTqJPeJsQxuOL0mLicgOluOH9cQcQ+ekzoeSHx2m/GDrgm9NWZTqx6zt17bsCp5u
XXQpDbfeqmimmg6SMSjIMk8qN45vH7rpOMQlK5Ioc8NIihS4CD700RYhlbvLGDcA
tAeh5f+sBpma1fFG/8YntQKBgGMztlJPL9HTU7SNnDP0toYMovfAYMlMThsjnIbX
7OAPItCmfodG+ZDzNr+ON8RQ62AkEpj7JIDqhOe+fqayUuJ6YI+QBYT2frAE8sgd
ciRSd/kUssP1eG5hzVihJA38eCa0H4oPeXNlLxwbHDtFLClzlJTqBGYKict0U6kP
45ONAoGAZXutzl+QoZsddKC95uFX3r17cg2gW+Jy5grz6udpro1I+dA+FTf76+9a
G+v17Se+0GrRyhxrIL+L9/FCyaoJ0xy3/weHWSQqZFwxxniPB3nyjVpD3+kBmCsd
bUFa3fHAVLYmvA8QPhkUk070nAcAcB3rNFEdyWvF43U7ZTLATOY=
-----END RSA PRIVATE KEY-----`;
let encryptedText  = "AYADeCWMiXEmdOe6ZJgJXR3FKcQAXwABABVhd3MtY3J5cHRvLXB1YmxpYy1rZXkAREF1ZEVhd2F0ditqU3RBc2h2YzZDRDFMZmZvS0hwdlNsd2xJSVFBUEsvOWhidGs3SVZlMEVFRFNNSHZzaEg2T2dOZz09AAEADUFtYXpvbkNvbm5lY3QAJDdlMjAwZmI2LTUyNzktNDkzOS04YjkxLTMxZWY1YWNjNGJmYwEALjwuI23ohoECz3OSlYea6SdQTXQjtRmF01WFzhiFfjxpOs/pRURuxN+8Pb5Ztl8xz9ohQNzMQQ1OlY8wMWMpHkvCsFeiX3L2gp2POFJJPlgWt+fK0FKqqzR7N7thL6+ese2/FgXpwDyPcooVdcC59xOPNWdZ0BcfGLtYzlvU/4dgqfdfoTj6b/utieGdW2HTFJVm7zxQf54HaILiz0AhWJZHs9yGgfFW7vARoham3FWCjU4gJUa/tX3NIKTHLql5QjhJDY3J1HN7ghWjoatFfROQ7/qtxo//okg5pkcN/LYd66F4yCjSObtJ91VpZPBe2grM7MVn0dZTn4BTRhZliwIAAAAADAAAEADiU9BZgv9rMdkHXbLdTeTEH+qfG8HYsmsyVV9h/////wAAAAF8NqnlZPpid243SaQAAAAMxq2rZXOKoHxvWMM9D3GZezGDk3uxQCtV8Ma8eQBnMGUCMCbJtH7nwl5aUw4d17tlR5jp+ZFxZkUXREKJveX6iupIZdXpG1APoEMWOpkIR0xf5gIxAIfUneFWo08NkKCIgoRjN998eDK21lUcjYbWIHZPLtd9HRMl48Oh67GpGLi+k1IXhg==";
var dt = Date.now();
let awsEncryptionHelper = new AWSEncryptionHelper(privateKey,encryptedText);
var data = awsEncryptionHelper.decrypt();

data.then((decryptedMsg)=>{
    console.log(decryptedMsg.body.lastFrame.text) ;
    console.log('Time spent running the whole thing =>',Date.now()-dt);
})





